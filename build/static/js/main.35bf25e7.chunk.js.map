{"version":3,"sources":["reducers/phone.js","reducers/PhonesPage.js","reducers/PhonePage.js","reducers/Coupon.js","reducers/Basket.js","reducers/Profile.js","reducers/Categories.js","store/configureStore.js","selectors/Phones.js","Containers/BasketCart.js","Containers/Categories.js","Containers/Newsletter.js","selectors/Profile.js","Containers/AccountButton.js","Containers/SideBar.js","Containers/Layout.js","api/mockPhones.js","api/mockCategories.js","api/fetchPhones.js","actions/Phones.js","Containers/Phones.js","Containers/Phone.js","Containers/Coupon.js","Containers/Basket.js","Containers/Profile.js","actions/Profile.js","index.js"],"names":["phoneInitialState","state","action","type","newValue","R","indexBy","prop","payload","merge","moreValues","assoc","id","initialState","ids","search","pluck","concat","console","log","intialState","invertedDiscount","code","append","without","of","username","password","firstName","lastName","isRegistered","isLoggedIn","userId","newVal","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","getPhonesById","phone","getActiveCategoryId","ownProps","path","getPhones","activeCategoryId","filter","item","contains","PhonesPage","when","always","equals","map","getTotalBasketPrice","Basket","reduce","total","Math","round","price","Coupon","getTotalBasketCount","length","getCategories","values","Categories","getBasketPhonesWithCount","uniqueIds","uniq","phones","basketId","connect","totalBasketCount","totalPrice","props","to","className","title","withRouter","categories","linkClass","classNames","active","isNil","renderAllCategory","category","index","getActiveState","propEq","name","renderCategory","Newsletter","handleSubmit","e","preventDefault","analytics","identify","email","emailValue","track","alert","onNewsletterInputChange","target","value","setState","bind","onSubmit","this","placeholder","searchValue","onChange","React","Component","undefined","dispatch","getProfile","Profile","AccountButton","style","width","border","color","SideBar","Layout","children","margin","src","alt","categoryId","brand","size","description","image","cpu","camera","weight","display","battery","memory","fetchPhones","a","Promise","resolve","fetchPhoneById","reject","find","fetchCategories","mockCategories","addPhoneToBasket","Phones","renderPhone","take","onClick","moreInfo","page","fetchPhonesApi","error","getState","fetchCategoriesApi","Phone","componentDidMount","params","renderFields","toPairs","pick","key","renderContent","renderSideBar","PhonePage","fetchPhoneByIdApi","couponCode","message","applyDiscount","onCouponCodeInputChange","removePhoneFromBasket","cleanBasket","basketCheckout","b","orderId","random","toString","substring","order_id","products","isBasketEmpty","isEmpty","count","not","onUsernameInputChange","usernameValue","onPasswordInputChange","passwordValue","onFirstNameInputChange","firstNameValue","onLastNameInputChange","lastNameValue","isLoginAction","isRegisteredValue","btoa","setProfile","browserHistory","push","htmlFor","isLoggedInValue","profile","userName","store","createStore","combineReducers","routing","routerReducer","phoneReducer","applyMiddleware","thunk","history","syncHistoryWithStore","jsx","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.35bf25e7.chunk.js","sourcesContent":["import R from \"ramda\";\n\nconst phoneInitialState = {};\n\nexport default (state = phoneInitialState, action) => {\n  switch (action.type) {\n    case \"FETCH_PHONE_SUCCESS\": {\n      const newValue = R.indexBy(R.prop(\"id\"), action.payload);\n      return R.merge(state, newValue);\n    }\n    case \"LOAD_MORE_SUCCESS\": {\n      const moreValues = R.indexBy(R.prop(\"id\"), action.payload);\n      return R.merge(state, moreValues);\n    }\n    case \"FETCH_PHONE_BY_ID_SUCCESS\": {\n      return R.assoc(action.payload.id, action.payload, state);\n    }\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\n\nconst initialState = {\n  ids: [],\n  search: \"\",\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"FETCH_PHONE_SUCCESS\":\n      return R.merge(state, {\n        ids: R.pluck(\"id\", action.payload),\n      });\n    case \"LOAD_MORE_SUCCESS\": {\n      const ids = R.pluck(\"id\", action.payload);\n      return R.merge(state, {\n        ids: R.concat(ids, state.ids),\n      });\n    }\n    case \"SEARCH_PHONE\": {\n      console.log(\"text to be searched is \", action.payload);\n      return R.merge(state, {\n        search: action.payload,\n      });\n    }\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\n\nconst intialState = {\n  id: null,\n};\n\nexport default (state = intialState, action) => {\n  switch (action.type) {\n    case \"FETCH_PHONE_BY_ID_SUCCESS\":\n      return R.merge(state, {\n        id: R.prop(\"id\", action.payload),\n      });\n    default:\n      return state;\n  }\n};\n","const initialState = { invertedDiscount: 1, code: \"\" };\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"APPLY_COUPON_CODE\":\n      state = action.payload;\n      return state;\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\nconst initialState = [];\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_PHONE_TO_BASKET\":\n      return R.append(action.payload, state);\n    case \"REMOVE_PHONE_FROM_BASKET\":\n      return R.without(R.of(action.payload), state);\n    case \"CLEAN_BASKET\":\n      return initialState;\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  username: \"\",\n  password: \"\",\n  firstName: \"\",\n  lastName: \"\",\n  isRegistered: false,\n  isLoggedIn: false,\n  userId: \"\",\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_PROFILE\":\n      state = action.payload;\n      return state;\n    default:\n      return state;\n  }\n};\n","import R from \"ramda\";\n\nconst initialState = {};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"FETCH_CATEGORIES_SUCCESS\":\n      const newVal = R.indexBy(R.prop(\"id\"), action.payload);\n      return R.merge(state, newVal);\n\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport phoneReducer from \"../reducers/phone\";\nimport PhonesPage from \"../reducers/PhonesPage\";\nimport PhonePage from \"../reducers/PhonePage\";\nimport Coupon from \"../reducers/Coupon\";\nimport { routerReducer } from \"react-router-redux\";\nimport Basket from \"../reducers/Basket\";\nimport Profile from \"../reducers/Profile\";\nimport Categories from \"../reducers/Categories\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default () => {\n  const store = createStore(\n    combineReducers({\n      routing: routerReducer,\n      phone: phoneReducer,\n      PhonesPage: PhonesPage,\n      PhonePage: PhonePage,\n      Basket: Basket,\n      Coupon: Coupon,\n      Categories: Categories,\n      Profile: Profile,\n    }),\n    composeEnhancers(applyMiddleware(thunk))\n  );\n  return store;\n};\n","import R from \"ramda\";\n\nexport const getPhonesById = (state, id) => R.prop(id, state.phone);\n\nexport const getActiveCategoryId = (ownProps) => {\n  // console.log(\"ownProps \" , ownProps);\n  return R.path([\"params\", \"id\"], ownProps);\n};\n\nexport const getPhones = (state, ownProps) => {\n  // const phones = R.map(id=>getPhonesById(state,id),state.PhonesPage.ids);\n  // return phones;\n\n  const activeCategoryId = getActiveCategoryId(ownProps);\n  // console.log(\"activeCategoryId \" , activeCategoryId);\n  const applyCategory = (item) => {\n    // console.log(\"Item \", item);\n    return R.equals(activeCategoryId, R.prop(\"categoryId\", item));\n  };\n  const applySearch = (item) => {\n    return R.contains(state.PhonesPage.search, R.prop(\"name\", item));\n  };\n  const phones = R.compose(\n    R.filter(applySearch),\n    R.when(R.always(activeCategoryId), R.filter(applyCategory)),\n    R.map((id) => getPhonesById(state, id))\n  )(state.PhonesPage.ids);\n  return phones;\n};\n\nexport const getRenderedPhonesLength = (state) =>\n  R.length(state.PhonesPage.ids);\n\nexport const getTotalBasketPrice = (state) => {\n  const phones = R.map((id) => getPhonesById(state, id), state.Basket);\n  let total = 0;\n  return phones.reduce((total, phone) => {\n    return (\n      Math.round((total + phone.price) * state.Coupon.invertedDiscount * 100) /\n      100\n    );\n  }, total);\n};\n\nexport const getTotalBasketCount = (state) => {\n  return state.Basket.length;\n};\n\nexport const getCategories = (state) => {\n  // console.log(\" fething categories from state \" ,R.values(state.Categories));\n  return R.values(state.Categories);\n};\n\nexport const getBasketPhonesWithCount = (state) => {\n  const uniqueIds = R.uniq(state.Basket);\n\n  const phoneCount = (id) => {\n    return R.compose(\n      R.length,\n      R.filter((basketId) => R.equals(id, basketId))\n    )(state.Basket);\n  };\n  const phoneWithCount = (phone) => {\n    return R.assoc(\"count\", phoneCount(phone.id), phone);\n  };\n  const phones = R.compose(\n    R.map(phoneWithCount),\n    R.map((id) => getPhonesById(state, id))\n  )(uniqueIds);\n  console.log(\"Phones in basket are \", phones);\n  return phones;\n};\n","import React from \"react\";\nimport { Link } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { getTotalBasketCount, getTotalBasketPrice } from \"../selectors/Phones\";\n\nexport const BasketCart = (props) => {\n  const { totalBasketCount, totalPrice } = props;\n  return (\n    <Link to=\"/basket\" id=\"dLabel\">\n      <button className=\"btn btn-default btn-block\" title=\"View Basket\">\n        <span className=\"glyphicon glyphicon-shopping-cart\" />\n        {\" : \"}\n        {totalBasketCount} item(s) (${totalPrice})\n      </button>\n    </Link>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  totalBasketCount: getTotalBasketCount(state),\n  totalPrice: getTotalBasketPrice(state),\n});\n\nexport default connect(mapStateToProps)(BasketCart);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getCategories, getActiveCategoryId } from \"../selectors/Phones\";\nimport { Link, withRouter } from \"react-router\";\nimport { compose } from \"redux\";\nimport classNames from \"classnames\";\nimport R from \"ramda\";\n\nconst Categories = (props) => {\n  const { categories, activeCategoryId } = props;\n  // console.log(\" activeCategoryId \" , activeCategoryId);\n  let activeIdNumber = activeCategoryId - 1;\n  const renderCategory = (category, index) => {\n    const getActiveState = R.propEq(\"id\", activeCategoryId);\n    const linkClass = classNames({\n      \"list-group-item\": true,\n      active: getActiveState(category),\n    });\n    return (\n      <Link to={`/categories/${category.id}`} className={linkClass} key={index}>\n        {category.name}\n      </Link>\n    );\n  };\n\n  const renderAllCategory = () => {\n    const linkClass = classNames({\n      \"list-group-item\": true,\n      active: R.isNil(activeCategoryId),\n    });\n\n    return (\n      <Link to=\"/\" className={linkClass}>\n        All\n      </Link>\n    );\n  };\n\n  return (\n    <div className=\"well\">\n      <span className=\"lead\">Brand Filter</span>\n      <div className=\"list-group\">\n        {renderAllCategory()}\n        {categories.map((category, index) => {\n          //console.log(category);\n          return renderCategory(category, index);\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  categories: getCategories(state),\n  activeCategoryId: getActiveCategoryId(ownProps),\n});\n\nexport default compose(withRouter, connect(mapStateToProps))(Categories);\n// export default connect(mapStateToProps)(Categories);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nclass Newsletter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      emailValue: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onNewsletterInputChange = this.onNewsletterInputChange.bind(this);\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    // fire Segment identify() event\n    analytics.identify(\"\", {\n      email: this.state.emailValue,\n    });\n\n    analytics.track(\"Newsletter Subscribed\", {\n      category: \"Newsletter\",\n    });\n\n    alert(\"Thank you for subscribing, \" + this.state.emailValue + \"!\");\n  };\n\n  onNewsletterInputChange = (e) => {\n    const emailValue = e.target.value;\n    this.setState({\n      emailValue,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"well blosd\">\n        <span className=\"lead\">Newsletter Subscription</span>\n\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Email Address\"\n              className=\"form-control\"\n              value={this.state.searchValue}\n              onChange={this.onNewsletterInputChange}\n            />\n            <span className=\"input-group-btn\">\n              <button className=\"btn btn-default\">\n                <span className=\"glyphicon glyphicon-envelope\" />\n              </button>\n            </span>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({});\n\nexport default connect(undefined, mapDispatchToProps)(Newsletter);\n","export const getProfile = (state) => {\n  return state.Profile;\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../selectors/Profile\";\nimport { Link } from \"react-router\";\n\nclass AccountButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: props.isLoggedIn,\n      isRegistered: props.isRegistered,\n      username: props.username,\n      firstName: props.firstName,\n      lastName: props.lastName,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"itemButton\">\n        {!this.state.isLoggedIn && (\n        <Link to=\"/profile\" id=\"dLabel\">\n          <button style={{\n            width:'60%', \n            'borderRadius': '4px', \n            'backgroundColor': '#101940', \n            border: '4',\n            color: \"white\",\n            'marginTop': '160px',\n            }}\n            className=\"btn btn-default btn-block\"\n          >\n          <span className=\"glyphicon glyphicon-user\" /> \n          \n            {(!this.state.isLoggedIn \n              && !this.state.isRegistered) \n              ? ' Register' : ' Sign In'}\n\n          </button>\n        </Link>\n        )}\n\n        {this.state.isLoggedIn && (\n        <div>\n          Hi {this.state.firstName} {this.state.lastName}\n        </div>\n        )}\n\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => getProfile(state);\n\nexport default connect(mapStateToProps)(AccountButton);\n","import React from \"react\";\nimport BasketCart from \"./BasketCart\";\nimport Categories from \"./Categories\";\nimport Newsletter from \"./Newsletter\";\nimport AccountButton from \"./AccountButton\";\n\nexport const SideBar = () => {\n  return (\n    <div>\n      {/*<div className=\"row\">\n        <BasketCart />\n      </div>\n      \n      <div className=\"row\">\n        <AccountButton />\n      </div>\n      <br />*/}\n\n      <Categories />\n      <Newsletter />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { SideBar } from \"./SideBar\";\nimport BasketCart from \"./BasketCart\";\nimport AccountButton from \"./AccountButton\";\n\nconst Layout = ({ children }) => {\n  return (\n    <div className=\"view-container\">\n      {/* Website Header */}\n      <div className=\"web-header\">\n        <div className=\"row\" style={{ margin: \"20px\" }}>\n          <div className=\"col-md-8\">\n            <img\n              className=\"img-logo\"\n              src=\"/uploads/shoes.png\"\n              alt=\"Apple iPhone 5c\"\n            ></img>\n            <h1>Kicks Company</h1>\n          </div>\n\n          <div className=\"header-cart col-md-2\">\n            <BasketCart />\n          </div>\n\n          <div className=\"header-account col-md-2\">\n            <AccountButton />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideBar />\n          </div>\n          <div className=\"col-md-9\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","export default [\n  {\n    id: \"1\",\n    categoryId: \"1\",\n    name: \"Nike Air Max 270\",\n    type: \"Mens\",\n    brand: \"Nike\",\n    size: \"8-9\",\n    description: \"Nike Air Max 270 in a size 8-9 color black\",\n    color: \"black\",\n    price: 149.99,\n    image: \"/uploads/Nike01 (1).jpeg\",\n    cpu: \"1.3GHz Apple A6\",\n    camera: \"8mp f.2.4\",\n    weight: \"132 grams\",\n    display: \"4.0 326 pixel density\",\n    battery: \"1480 mAh\",\n    memory: \"16GB\",\n  },\n  {\n    id: \"2\",\n    categoryId: \"1\",\n    name: \"Nike Air Force 1\",\n    type: \"Kids\",\n    brand: \"Nike\",\n    description: \"Nike Air Force 1 in a size 3-4 color white\",\n    size: \"3-4\",\n    color: \"white\",\n    price: 74.99,\n    image: \"/uploads/Nike02 (1).jpeg\",\n    cpu: \"1.4GHz Apple A8\",\n    camera: \"8mp f/2.2\",\n    weight: \"129g\",\n    display: \"4.7 326 pixel density\",\n    battery: \"1810 mAh\",\n    memory: \"32GB\",\n  },\n  {\n    id: \"3\",\n    categoryId: \"2\",\n    name: \"Adidas Superstar\",\n    type: \"Womens\",\n    brand: \"Adidas\",\n    description:\n      \"The adidas Superstar Shoes first stepped onto the basketball hardwood in 1970. It didn't take long for them to make the leap from athletic gear\",\n    price: 100.0,\n    size: \"7-8\",\n    color: \"white striped\",\n    image: \"/uploads/Adidas01 (1).jpg\",\n    cpu: \"Quad-core 1.2 GHz Cortex-A53\",\n    camera: \"12 MP, f/2.1\",\n    weight: \"128g\",\n    display: \"5.0 294 pixel density\",\n    battery: \"2300 mAh\",\n    memory: \"8GB\",\n  },\n  {\n    id: \"4\",\n    categoryId: \"2\",\n    name: \"Adidas Grand Court\",\n    brand: \"Adidas\",\n    type: \"Mens\",\n    color: \"white\",\n    description: \"White Adidas Grand Court shoes.\",\n    size: \"7-8\",\n    price: 129.99,\n    image: \"/uploads/Adidas02 (1).jpg\",\n    cpu: \"Quad-core 2.2 GHz Krait 400\",\n    camera: \"20 MP, f/2.4\",\n    weight: \"209 grams\",\n    display: \"6.0 367 pixel density\",\n    battery: \"3400 mAh\",\n    memory: \"32GB\",\n  },\n  {\n    id: \"5\",\n    categoryId: \"3\",\n    name: \"Puma SpeedCat LS\",\n    brand: \"Puma\",\n    type: \"Womens\",\n    size: \"8-9\",\n    color: \"black\",\n    description: \"The Puma SpeedCat LS Trainers in black\",\n    price: 220.0,\n    image: \"/uploads/Puma01 (1).jpg\",\n    cpu: \"Quad-core 1.7 GHz Krait 300\",\n    camera: \"4mp f/2.0\",\n    weight: \"143 grams\",\n    display: \"4.7 469 pixel density\",\n    battery: \"2300 mAh\",\n    memory: \"64GB\",\n  },\n  {\n    id: \"6\",\n    categoryId: \"3\",\n    name: \"Puma Jay-Z Hybrid\",\n    brand: \"Puma\",\n    color: \"custom\",\n    type: \"Mens\",\n    size: \"9-10\",\n    description: \"The Jay-Z Hybrid Puma collaboration sneakers.\",\n    price: 90,\n    image: \"/uploads/Puma02 (1).jpg\",\n    cpu: \"Octa-core (4x2.1 GHz Cortex-A57 & 4x1.5 GHz Cortex-A53)\",\n    camera: \"8mp (3264x2448)\",\n    weight: \"138 grams\",\n    display: \"5.1 577 pixel density\",\n    battery: \"2550 mAh\",\n    memory: \"128GB\",\n  },\n];\n","export default [\n  {\n    id: \"1\",\n    name: \"Nike\",\n  },\n  {\n    id: \"2\",\n    name: \"Adidas\",\n  },\n  {\n    id: \"3\",\n    name: \"Puma\",\n  },\n  {\n    id: \"4\",\n    name: \"Converse\",\n  },\n  {\n    id: \"5\",\n    name: \"Heelys\",\n  },\n];\n","import phones from \"./mockPhones\";\nimport R from \"ramda\";\nimport mockCategories from \"./mockCategories\";\n\nexport const fetchPhones = async () => {\n  return new Promise((resolve) => {\n    resolve(phones);\n  });\n\n  // const {body} = await request.get('http://www.mocky.io/v2/5918b9461200001f1040dbeb');\n  // return body.phones;\n};\n\nexport const loadMore = async ({ offset }) => {\n  return new Promise((resolve) => {\n    resolve(phones);\n  });\n};\n\nexport const fetchPhoneById = async (id) => {\n  return new Promise((resolve, reject) => {\n    console.log(\"Id in api fetchPhones \", id);\n    const phone = R.find(R.propEq(\"id\", id), phones);\n    resolve(phone);\n  });\n};\n\nexport const fetchCategories = async () => {\n  return new Promise((resolve) => {\n    resolve(mockCategories);\n  });\n};\n","import {\n  fetchPhones as fetchPhonesApi,\n  loadMore as loadMoreApi,\n  fetchPhoneById as fetchPhoneByIdApi,\n  fetchCategories as fetchCategoriesApi,\n} from \"../api/fetchPhones\";\nimport { getRenderedPhonesLength } from \"../selectors/Phones\";\n\nexport const applyDiscount = (invertedDiscount, code) => (dispatch) => {\n  dispatch({\n    type: \"APPLY_COUPON_CODE\",\n    payload: { invertedDiscount, code },\n  });\n};\n\nexport const fetchPhones = () => {\n  return async (dispatch) => {\n    try {\n      dispatch({\n        type: \"FETCH_PHONE_START\",\n      });\n      const phones = await fetchPhonesApi();\n      dispatch({\n        type: \"FETCH_PHONE_SUCCESS\",\n        payload: phones,\n      });\n    } catch (err) {\n      dispatch({\n        type: \"FETCH_PHONE_FAIL\",\n        payload: err,\n        error: true,\n      });\n    }\n  };\n};\n\nexport const fetchCategories = () => {\n  return async (dispatch, getState) => {\n    // console.log(\"Fetching entire state \", getState());\n    try {\n      dispatch({\n        type: \"FETCH_CATEGORIES_START\",\n      });\n      const categories = await fetchCategoriesApi();\n      dispatch({\n        type: \"FETCH_CATEGORIES_SUCCESS\",\n        payload: categories,\n      });\n    } catch (err) {\n      dispatch({\n        type: \"FETCH_CATEGORIES_FAILURE\",\n        payload: err,\n        error: true,\n      });\n    }\n  };\n};\n\nexport const loadMore = () => {\n  return async (dispatch, getState) => {\n    const offset = getRenderedPhonesLength(getState());\n    try {\n      dispatch({\n        type: \"LOAD_MORE_START\",\n      });\n      const phones = await loadMoreApi({ offset });\n      dispatch({\n        type: \"LOAD_MORE_SUCCESS\",\n        payload: phones,\n      });\n    } catch (err) {\n      dispatch({\n        type: \"LOAD_MORE_FAILURE\",\n        payload: err,\n        error: true,\n      });\n    }\n  };\n};\n\nexport const fetchPhoneById = (id) => {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: \"FETCH_PHONE_BY_ID_START\",\n      });\n      const phone = await fetchPhoneByIdApi(id);\n      dispatch({\n        type: \"FETCH_PHONE_BY_ID_SUCCESS\",\n        payload: phone,\n      });\n    } catch (err) {\n      dispatch({\n        type: \"FETCH_PHONE_BY_ID_FAILURE\",\n        payload: err,\n        error: true,\n      });\n    }\n  };\n};\n\nexport const addPhoneToBasket = (id) => (dispatch) => {\n  dispatch({\n    type: \"ADD_PHONE_TO_BASKET\",\n    payload: id,\n  });\n};\n\nexport const searchPhone = (text) => (dispatch) => {\n  console.log(\"searching \", text);\n  dispatch({\n    type: \"SEARCH_PHONE\",\n    payload: text,\n  });\n};\n\nexport const removePhoneFromBasket = (id) => async (dispatch) => {\n  dispatch({\n    type: \"REMOVE_PHONE_FROM_BASKET\",\n    payload: id,\n  });\n};\n\nexport const cleanBasket = () => (dispatch) => {\n  dispatch({\n    type: \"CLEAN_BASKET\",\n  });\n};\n\nexport const basketCheckout = (phones) => (dispatch, getState) => {\n  const { code: coupon, invertedDiscount } = getState().Coupon;\n  const revenue = phones.reduce(\n    (a, b) => a + (b.price * invertedDiscount || 0),\n    0\n  );\n\n  //alert(JSON.stringify(phones));\n  alert(\"Checkout Flow Begins Here...\")\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchPhones, fetchCategories } from \"../actions/Phones\";\nimport { getPhones } from \"../selectors/Phones\";\nimport { Link } from \"react-router\";\nimport R from \"ramda\";\nimport { addPhoneToBasket } from \"../actions/Phones\";\n\nclass Phones extends React.Component {\n  componentDidMount() {\n    window.analytics.page(\"Home\");\n    this.props.fetchPhones();\n    this.props.fetchCategories();\n  }\n\n  renderPhone = (phone, index) => {\n    const { addPhoneToBasket } = this.props;\n    const shortDesc = `${R.take(60, phone.description)}...`;\n    return (\n      <div className=\"col-sm-4 col-lg-4 col-md-4 book-list\" key={index}>\n        <div className=\"thumbnail\">\n          <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\n        </div>\n        <div className=\"caption\">\n          <h4 className=\"pull-right\">${phone.price}</h4>\n          <h4>{phone.name}</h4>\n          <p className=\"itemButton listing\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => addPhoneToBasket(phone)}\n            >\n              Buy Now\n            </button>\n\n            <Link\n              to={`/Phones/${phone.id}`}\n              className=\"btn btn-default\"\n              onClick={() => moreInfo(phone)}\n            >\n              More Info\n            </Link>\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { phones } = this.props;\n    return (\n      <div>\n        <div className=\"books row\">\n          {phones.map((phone, index) => {\n            return this.renderPhone(phone, index);\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchPhones: () => dispatch(fetchPhones()),\n  addPhoneToBasket: (phone) => {\n    dispatch(addPhoneToBasket(phone.id));\n    // track event for adding product to basket\n    analytics.track(\"Product Added\", {\n      name: phone.name,\n      price: phone.price,\n      brand: phone.brand,\n      type: phone.type,\n      size: phone.size,\n      color: phone.color,\n      description: phone.description,\n      id: phone.id,\n    });\n  },\n  fetchCategories: () => dispatch(fetchCategories()),\n});\n//ownProps are available here because this component is defined directly on route.\n//child componenets must include compose withRoutes\nconst mapStateToProps = (state, ownProps) => ({\n  phones: getPhones(state, ownProps),\n});\n\nfunction moreInfo(phone) {\n  // call Segment track() event for product clicked\n  analytics.track(\"Product Clicked\", {\n    name: phone.name,\n    brand: phone.brand,\n    category: \"Products\",\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Phones);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchPhoneById, addPhoneToBasket } from \"../actions/Phones\";\nimport { getPhonesById } from \"../selectors/Phones\";\nimport R from \"ramda\";\nimport BasketCart from \"./BasketCart\";\nimport AccountButton from \"./AccountButton\";\nimport { Link } from \"react-router\";\n\nclass Phone extends React.Component {\n  componentDidMount = () => {\n    window.analytics.page(\"Shoe Info\");\n    this.props.fetchPhoneById(this.props.params.id);\n  };\n\n  renderFields = () => {\n    const { phone } = this.props;\n    const columnFields = R.compose(\n      R.toPairs,\n      R.pick([\"brand\", \"type\", \"color\", \"size\"])\n    )(phone);\n    // console.log(\"columnFields \", columnFields);\n    return columnFields.map(([key, value]) => {\n      return (\n        <div className=\"column\" key={key}>\n          <div className=\"ab-details-title\">\n            <p> {key} </p>\n          </div>\n          <div className=\"ab-details-info\">\n            <p> {value} </p>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  renderContent = () => {\n    const { phone } = this.props;\n    return (\n      <div>\n        <div className=\"thumbnail\">\n          <div className=\"col-md-6\">\n            <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\n          </div>\n          <div className=\"col-md-6\">{this.renderFields()}</div>\n        </div>\n        <div className=\"caption-full\">\n          {/*<h4 className=\"pull-right\">${phone.price}</h4>\n          <h2>{phone.name}</h2>\n          <p>{phone.description}</p>*/}\n        </div>\n      </div>\n    );\n  };\n\n  renderSideBar = () => {\n    const { phone, addPhoneToBasket } = this.props;\n    return (\n      <div>\n        <div>\n          {/*<p className=\"lead\"> Quick Shop</p>\n          <BasketCart />*/}\n          <div className=\"form-group\">\n            <h1>{phone.name}</h1>\n            <h2>${phone.price}</h2>\n            <p>{phone.description}</p>\n          </div>\n        </div>\n        <Link to=\"/\" className=\"btn btn-info btn-block\">\n          Back to Store\n        </Link>\n        <button\n          type=\"button\"\n          className=\"btn btn-success btn-block\"\n          onClick={() => addPhoneToBasket(phone)}\n        >\n          Add To Cart\n        </button>\n      </div>\n    );\n  };\n\n  render() {\n    // console.log(this.props.phone);\n    const { phone } = this.props;\n    return (\n      <div className=\"view-container\">\n        {/* Website Header */}\n        <div className=\"web-header\">\n          <div className=\"row\" style={{ margin: \"20px\" }}>\n            <div className=\"col-md-8\">\n              <img\n                className=\"img-logo\"\n                src=\"/uploads/phone123.png\"\n                alt=\"Apple iPhone 5c\"\n              ></img>\n              <h1>The Phone Shop</h1>\n            </div>\n\n            <div className=\"header-cart col-md-2\">\n              <BasketCart />\n            </div>\n\n            <div className=\"header-account col-md-2\">\n              <AccountButton />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"col-md-8\">{phone && this.renderContent()}</div>\n          <div className=\"col-md-4\">{phone && this.renderSideBar()}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\n// export default Phone;\nconst mapDispatchtoProps = (dispatch) => ({\n  fetchPhoneById: (id) => {\n    dispatch(fetchPhoneById(id));\n  },\n  addPhoneToBasket: (phone) => {\n    dispatch(addPhoneToBasket(phone.id));\n    // track event for adding product to basket\n    analytics.track(\"Product Added\", {\n      name: phone.name,\n      price: phone.price,\n      brand: phone.brand,\n      type: phone.type,\n      size: phone.size,\n      color: phone.color,\n      description: phone.description,\n      id: phone.id,\n    });\n  },\n});\n\nconst mapStateToProps = (state) => ({\n  phone: getPhonesById(state, state.PhonePage.id),\n});\n\nexport default connect(mapStateToProps, mapDispatchtoProps)(Phone);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { applyDiscount } from \"../actions/Phones\";\n\nclass Coupon extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      couponCode: \"\",\n      message: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onCouponCodeInputChange = this.onCouponCodeInputChange.bind(this);\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.couponCode === \"SUPER-10\") {\n      this.setState({\n        couponCode: this.state.couponCode,\n        message: \"10% discount applied\",\n      });\n      this.props.applyDiscount(0.9, this.state.couponCode);\n    } else\n      this.setState({\n        couponCode: this.state.couponCode,\n        message: \"Invalid Coupon Code\",\n      });\n  };\n\n  onCouponCodeInputChange = (e) => {\n    const couponCode = e.target.value;\n    this.setState({\n      couponCode,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"well blosd\">\n        <span className=\"lead\">Apply Coupon Code</span>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              value={this.state.couponCode}\n              onChange={this.onCouponCodeInputChange}\n            />\n            <span className=\"input-group-btn\">\n              <button className=\"btn btn-default\">\n                <span className=\"glyphicon glyphicon-gift\" />\n              </button>\n            </span>\n          </div>\n        </form>\n        {this.state.message}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  applyDiscount: (invertedDiscount, code) =>\n    dispatch(applyDiscount(invertedDiscount, code)),\n});\n\nexport default connect(undefined, mapDispatchToProps)(Coupon);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  getTotalBasketPrice,\n  getBasketPhonesWithCount,\n} from \"../selectors/Phones\";\nimport R from \"ramda\";\nimport {\n  removePhoneFromBasket,\n  cleanBasket,\n  basketCheckout,\n} from \"../actions/Phones\";\nimport { Link } from \"react-router\";\nimport Coupon from \"./Coupon\";\n\nconst Basket = ({\n  phones,\n  totalPrice,\n  removePhoneFromBasket,\n  cleanBasket,\n  basketCheckout,\n  orderId,\n}) => {\n  // Segment page() call\n  analytics.page(\"Shopping Cart\");\n  const isBasketEmpty = R.isEmpty(phones);\n  const renderContent = () => {\n    return (\n      <div>\n        {isBasketEmpty && <div> Your shopping cart is empty </div>}\n        <div className=\"table-responsive\">\n          <table className=\"table-bordered table-striped table-condensed cf\">\n            <tbody>\n              {phones.map((phone, index) => (\n                <tr key={index} className=\"item-checout\">\n                  <td className=\"first-column-checkout\">\n                    <img\n                      className=\"img-thumbnail\"\n                      src={phone.image}\n                      alt={phone.name}\n                    />\n                  </td>\n                  <td>{phone.name}</td>\n                  <td>${phone.price}</td>\n                  <td>{phone.count}</td>\n                  <td>\n                    <span\n                      className=\"glyphicon glyphicon-remove\"\n                      onClick={() => removePhoneFromBasket(phone.id)}\n                    ></span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {R.not(isBasketEmpty) && (\n          <div className=\"row\">\n            <div className=\"pull-right total-user-checkout\">\n              <b>Total:</b>${totalPrice}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderSidebar = () => {\n    return (\n      <div>\n        <Coupon />\n        {R.not(isBasketEmpty) && (\n          <div>\n            <button className=\"btn btn-danger\" onClick={() => cleanBasket()}>\n              <span className=\"glyphicon glyphicon-trash\" />\n              Clean Cart\n            </button>\n            <button\n              className=\"btn btn-success\"\n              onClick={() => basketCheckout(phones, totalPrice)}\n            >\n              <span className=\"glyphicon glyphicon-envelope\" />\n              Checkout\n            </button>\n          </div>\n        )}\n        <Link className=\"btn btn-default\" to=\"/\">\n          <span className=\"glyphicon glyphicon-circle-arrow-left\" />\n          <span> Continue Shopping</span>\n        </Link>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"view-container\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">{renderContent()}</div>\n          <div className=\"col-md-3 btn-user-checkout\">{renderSidebar()}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  phones: getBasketPhonesWithCount(state),\n  totalPrice: getTotalBasketPrice(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  removePhoneFromBasket: (id) => dispatch(removePhoneFromBasket(id)),\n  cleanBasket: () => dispatch(cleanBasket()),\n  basketCheckout: (phones, totalPrice) => { \n    dispatch(basketCheckout(phones)) \n    // Segment track() event for checkout clicked\n    let orderId = Math.random().toString(36).substring(7);\n    analytics.track(\"Checkout Clicked\", {\n      order_id: orderId,\n      total: totalPrice,\n      products: phones,\n      category: \"Checkout\",\n    });\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../selectors/Profile\";\nimport { setProfile } from \"../actions/Profile\";\nimport { browserHistory } from \"react-router\";\nimport { Link } from \"react-router\";\nimport btoa from \"btoa\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      usernameValue: props.username,\n      passwordValue: props.password,\n      firstNameValue: props.firstName,\n      lastNameValue: props.lastName,\n      isRegisteredValue: props.isRegistered,\n      message: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onUsernameInputChange = this.onUsernameInputChange.bind(this);\n    this.onPasswordInputChange = this.onPasswordInputChange.bind(this);\n    this.onFirstNameInputChange = this.onFirstNameInputChange.bind(this);\n    this.onLastNameInputChange = this.onLastNameInputChange.bind(this);\n\n  }\n\n  onUsernameInputChange = (e) => {\n    const usernameValue = e.target.value;\n    this.setState({\n      usernameValue,\n    });\n  };\n\n  onPasswordInputChange = (e) => {\n    const passwordValue = e.target.value;\n    this.setState({\n      passwordValue,\n    });\n  };\n\n  onFirstNameInputChange = (e) => {\n    const firstNameValue = e.target.value;\n    this.setState({\n      firstNameValue,\n    });\n  };\n\n  onLastNameInputChange = (e) => {\n    const lastNameValue = e.target.value;\n    this.setState({\n      lastNameValue,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.usernameValue \n      || !this.state.passwordValue\n      || !this.state.firstNameValue\n      || !this.state.lastNameValue) {\n      this.setState({\n        message: \"All fields are required\",\n      });\n      return;\n    }\n\n    const isLoginAction = this.state.isRegisteredValue === true;\n\n    const userId = !this.props.userId\n      ? btoa(this.state.usernameValue)\n      : this.props.userId;\n\n    this.props.setProfile({\n      username: this.state.usernameValue,\n      password: this.state.passwordValue,\n      firstName: this.state.firstNameValue,\n      lastName: this.state.lastNameValue,\n      isRegistered: true,\n      isLoggedIn: isLoginAction,\n      userId,\n    });\n\n    browserHistory.push(\"/\");\n\n  };\n\n  render() {\n    return (\n      <div className=\"view-container\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div>\n                <form onSubmit={this.handleSubmit}>\n\n                  {!this.state.isRegisteredValue && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"firstName\">First Name</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"firstName\"\n                          value={this.state.firstNameValue}\n                          onChange={this.onFirstNameInputChange}\n                        />\n                      </div>\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"lastName\">Last Name</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"lastName\"\n                          value={this.state.lastNameValue}\n                          onChange={this.onLastNameInputChange}\n                        />\n                      </div>\n                    </div>\n                  )}\n\n                  \n                  {!this.state.isLoggedIn && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"username\"\n                          value={this.state.usernameValue}\n                          onChange={this.onUsernameInputChange}\n                        />\n                      </div>\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                          type=\"password\"\n                          className=\"form-control\"\n                          name=\"password\"\n                          onChange={this.onPasswordInputChange}\n                        />\n                      </div>\n                    </div>\n                  )}\n                  \n                  {!this.state.isLoggedInValue && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <button className=\"btn btn-primary\">\n                          <span>\n                            {this.state.isRegisteredValue\n                              ? \"Login\"\n                              : \"Complete Registration\"}\n                          </span>\n                        </button>\n                        <span> {this.state.message}</span>\n                      </div>\n                    </div>\n                  )}\n\n                </form>\n                <Link className=\"btn btn-default\" to=\"/\">\n                  <span className=\"glyphicon glyphicon-circle-arrow-left\" />\n                  <span> Continue Shopping</span>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => getProfile(state);\n\nconst mapDispatchToProps = (dispatch) => ({\n  setProfile: (id) => {\n    dispatch(setProfile(id));\n    analytics.identify(id.userId,\n    {\n      firstName: id.firstName,\n      lastName: id.lastName,\n      username: id.userName,\n    });\n    analytics.track('User Registered',\n    {\n      category: \"Account\",\n    })\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n","export const setProfile = (profile) => async (dispatch, getState) => {\n  dispatch({\n    type: \"SET_PROFILE\",\n    payload: profile,\n  });\n};\n","import \"./main.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport configureStore from \"./store/configureStore\";\nimport { Provider } from \"react-redux\";\nimport { browserHistory, Router, Route } from \"react-router\";\nimport { syncHistoryWithStore } from \"react-router-redux\";\nimport Layout from \"./Containers/Layout\";\nimport Phones from \"./Containers/Phones\";\nimport Phone from \"./Containers/Phone\";\nimport Basket from \"./Containers/Basket\";\nimport Profile from \"./Containers/Profile\";\n\nconst store = configureStore();\nconst history = syncHistoryWithStore(browserHistory, store);\nconst jsx = (\n  <Provider store={store}>\n    <Router history={history}>\n      <Route component={Layout}>\n        <Route path=\"/\" component={Phones}></Route>\n        <Route path=\"/categories/:id\" component={Phones} />\n      </Route>\n      <Route path=\"/Phones/:id\" component={Phone} />\n      <Route path=\"/basket\" component={Basket} />\n      <Route path=\"/profile\" component={Profile} />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(jsx, document.getElementById(\"root\"));\n"],"sourceRoot":""}
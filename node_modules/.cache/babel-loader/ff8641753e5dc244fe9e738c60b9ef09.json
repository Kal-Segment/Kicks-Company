{"ast":null,"code":"var _jsxFileName = \"/Users/kal.kolacahill/KicksCompany/src/Containers/Profile.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../selectors/Profile\";\nimport { setProfile } from \"../actions/Profile\";\nimport { browserHistory } from \"react-router\";\nimport { Link } from \"react-router\";\nimport btoa from \"btoa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onUsernameInputChange = e => {\n      const usernameValue = e.target.value;\n      this.setState({\n        usernameValue\n      });\n    };\n\n    this.onPasswordInputChange = e => {\n      const passwordValue = e.target.value;\n      this.setState({\n        passwordValue\n      });\n    };\n\n    this.onFirstNameInputChange = e => {\n      const firstNameValue = e.target.value;\n      this.setState({\n        firstNameValue\n      });\n    };\n\n    this.onLastNameInputChange = e => {\n      const lastNameValue = e.target.value;\n      this.setState({\n        lastNameValue\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (!this.state.usernameValue || !this.state.passwordValue || !this.state.firstNameValue || !this.state.lastNameValue) {\n        this.setState({\n          message: \"All fields are required\"\n        });\n        return;\n      }\n\n      const isLoginAction = this.state.isRegisteredValue === true;\n      const userId = !this.props.userId ? btoa(this.state.usernameValue) : this.props.userId;\n      this.props.setProfile({\n        username: this.state.usernameValue,\n        password: this.state.passwordValue,\n        firstName: this.state.firstNameValue,\n        lastName: this.state.lastNameValue,\n        isRegistered: true,\n        isLoggedIn: isLoginAction,\n        userId\n      });\n      browserHistory.push(\"/\");\n    };\n\n    this.state = {\n      usernameValue: props.username,\n      passwordValue: props.password,\n      firstNameValue: props.firstName,\n      lastNameValue: props.lastName,\n      isRegisteredValue: props.isRegistered,\n      message: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onUsernameInputChange = this.onUsernameInputChange.bind(this);\n    this.onPasswordInputChange = this.onPasswordInputChange.bind(this);\n    this.onFirstNameInputChange = this.onFirstNameInputChange.bind(this);\n    this.onLastNameInputChange = this.onLastNameInputChange.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: this.handleSubmit,\n                children: [!this.state.isRegisteredValue && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"firstName\",\n                      children: \"First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"firstName\",\n                      value: this.state.firstNameValue,\n                      onChange: this.onFirstNameInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"lastName\",\n                      children: \"Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"lastName\",\n                      value: this.state.lastNameValue,\n                      onChange: this.onLastNameInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"email\",\n                      children: \"Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this), !this.state.isLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"username\",\n                      children: \"Username\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"form-control\",\n                      name: \"username\",\n                      value: this.state.usernameValue,\n                      onChange: this.onUsernameInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"password\",\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      className: \"form-control\",\n                      name: \"password\",\n                      onChange: this.onPasswordInputChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this), !this.state.isLoggedInValue && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group col-md-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-primary\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: this.state.isRegisteredValue ? \"Login\" : \"Complete Registration\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 159,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\" \", this.state.message]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                className: \"btn btn-default\",\n                to: \"/\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"glyphicon glyphicon-circle-arrow-left\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \" Continue Shopping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => getProfile(state);\n\nconst mapDispatchToProps = dispatch => ({\n  setProfile: id => {\n    dispatch(setProfile(id));\n    analytics.identify(id.userId, {\n      firstName: id.firstName,\n      lastName: id.lastName,\n      username: id.userName\n    });\n    analytics.track(\"User Registered\", {\n      category: \"Account\"\n    });\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/kal.kolacahill/KicksCompany/src/Containers/Profile.js"],"names":["React","connect","getProfile","setProfile","browserHistory","Link","btoa","Profile","Component","constructor","props","onUsernameInputChange","e","usernameValue","target","value","setState","onPasswordInputChange","passwordValue","onFirstNameInputChange","firstNameValue","onLastNameInputChange","lastNameValue","handleSubmit","preventDefault","state","message","isLoginAction","isRegisteredValue","userId","username","password","firstName","lastName","isRegistered","isLoggedIn","push","bind","render","isLoggedInValue","mapStateToProps","mapDispatchToProps","dispatch","id","analytics","identify","userName","track","category"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfile } from \"../selectors/Profile\";\nimport { setProfile } from \"../actions/Profile\";\nimport { browserHistory } from \"react-router\";\nimport { Link } from \"react-router\";\nimport btoa from \"btoa\";\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      usernameValue: props.username,\n      passwordValue: props.password,\n      firstNameValue: props.firstName,\n      lastNameValue: props.lastName,\n      isRegisteredValue: props.isRegistered,\n      message: \"\",\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onUsernameInputChange = this.onUsernameInputChange.bind(this);\n    this.onPasswordInputChange = this.onPasswordInputChange.bind(this);\n    this.onFirstNameInputChange = this.onFirstNameInputChange.bind(this);\n    this.onLastNameInputChange = this.onLastNameInputChange.bind(this);\n  }\n\n  onUsernameInputChange = (e) => {\n    const usernameValue = e.target.value;\n    this.setState({\n      usernameValue,\n    });\n  };\n\n  onPasswordInputChange = (e) => {\n    const passwordValue = e.target.value;\n    this.setState({\n      passwordValue,\n    });\n  };\n\n  onFirstNameInputChange = (e) => {\n    const firstNameValue = e.target.value;\n    this.setState({\n      firstNameValue,\n    });\n  };\n\n  onLastNameInputChange = (e) => {\n    const lastNameValue = e.target.value;\n    this.setState({\n      lastNameValue,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (\n      !this.state.usernameValue ||\n      !this.state.passwordValue ||\n      !this.state.firstNameValue ||\n      !this.state.lastNameValue\n    ) {\n      this.setState({\n        message: \"All fields are required\",\n      });\n      return;\n    }\n\n    const isLoginAction = this.state.isRegisteredValue === true;\n\n    const userId = !this.props.userId\n      ? btoa(this.state.usernameValue)\n      : this.props.userId;\n\n    this.props.setProfile({\n      username: this.state.usernameValue,\n      password: this.state.passwordValue,\n      firstName: this.state.firstNameValue,\n      lastName: this.state.lastNameValue,\n      isRegistered: true,\n      isLoggedIn: isLoginAction,\n      userId,\n    });\n\n    browserHistory.push(\"/\");\n  };\n\n  render() {\n    return (\n      <div className=\"view-container\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div>\n                <form onSubmit={this.handleSubmit}>\n                  {!this.state.isRegisteredValue && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"firstName\">First Name</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"firstName\"\n                          value={this.state.firstNameValue}\n                          onChange={this.onFirstNameInputChange}\n                        />\n                      </div>\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"lastName\">Last Name</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"lastName\"\n                          value={this.state.lastNameValue}\n                          onChange={this.onLastNameInputChange}\n                        />\n                      </div>\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"email\">Last Name</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"email\"\n                        />\n                      </div>\n                    </div>\n                  )}\n\n                  {!this.state.isLoggedIn && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          name=\"username\"\n                          value={this.state.usernameValue}\n                          onChange={this.onUsernameInputChange}\n                        />\n                      </div>\n                      <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                          type=\"password\"\n                          className=\"form-control\"\n                          name=\"password\"\n                          onChange={this.onPasswordInputChange}\n                        />\n                      </div>\n                    </div>\n                  )}\n\n                  {!this.state.isLoggedInValue && (\n                    <div className=\"form-row\">\n                      <div className=\"form-group col-md-3\">\n                        <button className=\"btn btn-primary\">\n                          <span>\n                            {this.state.isRegisteredValue\n                              ? \"Login\"\n                              : \"Complete Registration\"}\n                          </span>\n                        </button>\n                        <span> {this.state.message}</span>\n                      </div>\n                    </div>\n                  )}\n                </form>\n                <Link className=\"btn btn-default\" to=\"/\">\n                  <span className=\"glyphicon glyphicon-circle-arrow-left\" />\n                  <span> Continue Shopping</span>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => getProfile(state);\n\nconst mapDispatchToProps = (dispatch) => ({\n  setProfile: (id) => {\n    dispatch(setProfile(id));\n    analytics.identify(id.userId, {\n      firstName: id.firstName,\n      lastName: id.lastName,\n      username: id.userName,\n    });\n    analytics.track(\"User Registered\", {\n      category: \"Account\",\n    });\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}
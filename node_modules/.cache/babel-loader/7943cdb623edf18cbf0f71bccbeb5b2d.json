{"ast":null,"code":"import _classCallCheck from\"/Users/kal.kolacahill/KicksCompany/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kal.kolacahill/KicksCompany/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kal.kolacahill/KicksCompany/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kal.kolacahill/KicksCompany/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{fetchPhones as _fetchPhones,fetchCategories as _fetchCategories}from\"../actions/Phones\";import{getPhones}from\"../selectors/Phones\";import{Link}from\"react-router\";import R from\"ramda\";import{addPhoneToBasket as _addPhoneToBasket}from\"../actions/Phones\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Phones=/*#__PURE__*/function(_React$Component){_inherits(Phones,_React$Component);var _super=_createSuper(Phones);function Phones(){var _this;_classCallCheck(this,Phones);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderPhone=function(phone,index){var addPhoneToBasket=_this.props.addPhoneToBasket;var shortDesc=\"\".concat(R.take(60,phone.description),\"...\");return/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4 col-lg-4 col-md-4 book-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",src:phone.image,alt:phone.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"caption\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"pull-right\",children:[\"$\",phone.price]}),/*#__PURE__*/_jsx(\"h4\",{children:phone.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"itemButton listing\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return addPhoneToBasket(phone);},children:\"Buy Now\"}),/*#__PURE__*/_jsx(Link,{to:\"/Phones/\".concat(phone.id),className:\"btn btn-default\",onClick:function onClick(){return moreInfo(phone);},children:\"More Info\"})]})]})]},index);};return _this;}_createClass(Phones,[{key:\"componentDidMount\",value:function componentDidMount(){window.analytics.page(\"Home\");this.props.fetchPhones();this.props.fetchCategories();}},{key:\"render\",value:function render(){var _this2=this;var phones=this.props.phones;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"books row\",children:phones.map(function(phone,index){return _this2.renderPhone(phone,index);})})});}}]);return Phones;}(React.Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchPhones:function fetchPhones(){return dispatch(_fetchPhones());},addPhoneToBasket:function addPhoneToBasket(phone){dispatch(_addPhoneToBasket(phone.id));// track event for adding product to basket\nanalytics.track('Product Added',{name:phone.name,price:phone.price,cpu:phone.cpu,camera:phone.camera,size:phone.size,weight:phone.weight,display:phone.display,battery:phone.battery,memory:phone.memory});},fetchCategories:function fetchCategories(){return dispatch(_fetchCategories());}};};//ownProps are available here because this component is defined directly on route.\n//child componenets must include compose withRoutes\nvar mapStateToProps=function mapStateToProps(state,ownProps){return{phones:getPhones(state,ownProps)};};function moreInfo(phone){// call Segment track() event for product clicked\nanalytics.track(\"Product Clicked\",{name:phone.name,brand:phone.brand,category:\"Products\"});}export default connect(mapStateToProps,mapDispatchToProps)(Phones);","map":{"version":3,"sources":["/Users/kal.kolacahill/KicksCompany/src/Containers/Phones.js"],"names":["React","connect","fetchPhones","fetchCategories","getPhones","Link","R","addPhoneToBasket","Phones","renderPhone","phone","index","props","shortDesc","take","description","image","name","price","id","moreInfo","window","analytics","page","phones","map","Component","mapDispatchToProps","dispatch","track","cpu","camera","size","weight","display","battery","memory","mapStateToProps","state","ownProps","brand","category"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchPhones, fetchCategories } from \"../actions/Phones\";\nimport { getPhones } from \"../selectors/Phones\";\nimport { Link } from \"react-router\";\nimport R from \"ramda\";\nimport { addPhoneToBasket } from \"../actions/Phones\";\n\nclass Phones extends React.Component {\n  componentDidMount() {\n    window.analytics.page(\"Home\");\n    this.props.fetchPhones();\n    this.props.fetchCategories();\n  }\n\n  renderPhone = (phone, index) => {\n    const { addPhoneToBasket } = this.props;\n    const shortDesc = `${R.take(60, phone.description)}...`;\n    return (\n      <div className=\"col-sm-4 col-lg-4 col-md-4 book-list\" key={index}>\n        <div className=\"thumbnail\">\n          <img className=\"img-thumbnail\" src={phone.image} alt={phone.name} />\n        </div>\n        <div className=\"caption\">\n          <h4 className=\"pull-right\">${phone.price}</h4>\n          <h4>{phone.name}</h4>\n          <p className=\"itemButton listing\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => addPhoneToBasket(phone)}\n            >\n              Buy Now\n            </button>\n\n            <Link \n              to={`/Phones/${phone.id}`} \n              className=\"btn btn-default\"\n              onClick={() => moreInfo(phone)}\n            >\n              More Info\n            </Link>\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { phones } = this.props;\n    return (\n      <div>\n        <div className=\"books row\">\n          {phones.map((phone, index) => {\n            return this.renderPhone(phone, index);\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchPhones: () => dispatch(fetchPhones()),\n  addPhoneToBasket: (phone) => {\n    dispatch(addPhoneToBasket(phone.id))\n    // track event for adding product to basket\n    analytics.track('Product Added',\n      {\n        name: phone.name,\n        price: phone.price,\n        cpu: phone.cpu,\n        camera: phone.camera,\n        size: phone.size,\n        weight: phone.weight,\n        display: phone.display,\n        battery: phone.battery,\n        memory: phone.memory,\n      });   \n  },\n  fetchCategories: () => dispatch(fetchCategories()),\n});\n//ownProps are available here because this component is defined directly on route.\n//child componenets must include compose withRoutes\nconst mapStateToProps = (state, ownProps) => ({\n  phones: getPhones(state, ownProps),\n});\n\nfunction moreInfo(phone) {\n  // call Segment track() event for product clicked\n  analytics.track(\"Product Clicked\", {\n    name: phone.name,\n    brand: phone.brand,\n    category: \"Products\",\n  });\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Phones);\n"]},"metadata":{},"sourceType":"module"}
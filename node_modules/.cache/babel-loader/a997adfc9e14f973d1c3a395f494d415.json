{"ast":null,"code":"import React from\"react\";import{connect}from\"react-redux\";import{getTotalBasketPrice,getBasketPhonesWithCount}from\"../selectors/Phones\";import R from\"ramda\";import{removePhoneFromBasket as _removePhoneFromBasket,cleanBasket as _cleanBasket,basketCheckout as _basketCheckout}from\"../actions/Phones\";import{Link}from\"react-router\";import Coupon from\"./Coupon\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Basket=function Basket(_ref){var phones=_ref.phones,totalPrice=_ref.totalPrice,removePhoneFromBasket=_ref.removePhoneFromBasket,cleanBasket=_ref.cleanBasket,basketCheckout=_ref.basketCheckout,orderId=_ref.orderId;// Segment page() call\nanalytics.page(\"Shopping Cart\");var isBasketEmpty=R.isEmpty(phones);var renderContent=function renderContent(){return/*#__PURE__*/_jsxs(\"div\",{children:[isBasketEmpty&&/*#__PURE__*/_jsx(\"div\",{children:\" Your shopping cart is empty \"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table-bordered table-striped table-condensed cf\",children:/*#__PURE__*/_jsx(\"tbody\",{children:phones.map(function(phone,index){return/*#__PURE__*/_jsxs(\"tr\",{className:\"item-checout\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"first-column-checkout\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-thumbnail\",src:phone.image,alt:phone.name})}),/*#__PURE__*/_jsx(\"td\",{children:phone.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",phone.price]}),/*#__PURE__*/_jsx(\"td\",{children:phone.count}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-remove\",onClick:function onClick(){return removePhoneFromBasket(phone.id);}})})]},index);})})})}),R.not(isBasketEmpty)&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pull-right total-user-checkout\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"}),\"$\",totalPrice]})})]});};var renderSidebar=function renderSidebar(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Coupon,{}),R.not(isBasketEmpty)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return cleanBasket();},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-trash\"}),\"Clean Cart\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return basketCheckout(phones,totalPrice);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-envelope\"}),\"Checkout\"]})]}),/*#__PURE__*/_jsxs(Link,{className:\"btn btn-default\",to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-circle-arrow-left\"}),/*#__PURE__*/_jsx(\"span\",{children:\" Continue Shopping\"})]})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"view-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:renderContent()}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 btn-user-checkout\",children:renderSidebar()})]})})});};var mapStateToProps=function mapStateToProps(state){return{phones:getBasketPhonesWithCount(state),totalPrice:getTotalBasketPrice(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{removePhoneFromBasket:function removePhoneFromBasket(id){return dispatch(_removePhoneFromBasket(id));},cleanBasket:function cleanBasket(){return dispatch(_cleanBasket());},basketCheckout:function basketCheckout(phones,totalPrice){dispatch(_basketCheckout(phones));// Segment track() event for checkout clicked\nvar orderId=Math.random().toString(36).substring(7);analytics.track(\"Checkout Clicked\",{order_id:orderId,total:totalPrice,products:phones,category:\"Checkout\"});}};};export default connect(mapStateToProps,mapDispatchToProps)(Basket);","map":{"version":3,"sources":["/Users/kal.kolacahill/KicksCompany/src/Containers/Basket.js"],"names":["React","connect","getTotalBasketPrice","getBasketPhonesWithCount","R","removePhoneFromBasket","cleanBasket","basketCheckout","Link","Coupon","Basket","phones","totalPrice","orderId","analytics","page","isBasketEmpty","isEmpty","renderContent","map","phone","index","image","name","price","count","id","not","renderSidebar","mapStateToProps","state","mapDispatchToProps","dispatch","Math","random","toString","substring","track","order_id","total","products","category"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  getTotalBasketPrice,\n  getBasketPhonesWithCount,\n} from \"../selectors/Phones\";\nimport R from \"ramda\";\nimport {\n  removePhoneFromBasket,\n  cleanBasket,\n  basketCheckout,\n} from \"../actions/Phones\";\nimport { Link } from \"react-router\";\nimport Coupon from \"./Coupon\";\n\nconst Basket = ({\n  phones,\n  totalPrice,\n  removePhoneFromBasket,\n  cleanBasket,\n  basketCheckout,\n  orderId,\n}) => {\n  // Segment page() call\n  analytics.page(\"Shopping Cart\");\n  const isBasketEmpty = R.isEmpty(phones);\n  const renderContent = () => {\n    return (\n      <div>\n        {isBasketEmpty && <div> Your shopping cart is empty </div>}\n        <div className=\"table-responsive\">\n          <table className=\"table-bordered table-striped table-condensed cf\">\n            <tbody>\n              {phones.map((phone, index) => (\n                <tr key={index} className=\"item-checout\">\n                  <td className=\"first-column-checkout\">\n                    <img\n                      className=\"img-thumbnail\"\n                      src={phone.image}\n                      alt={phone.name}\n                    />\n                  </td>\n                  <td>{phone.name}</td>\n                  <td>${phone.price}</td>\n                  <td>{phone.count}</td>\n                  <td>\n                    <span\n                      className=\"glyphicon glyphicon-remove\"\n                      onClick={() => removePhoneFromBasket(phone.id)}\n                    ></span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {R.not(isBasketEmpty) && (\n          <div className=\"row\">\n            <div className=\"pull-right total-user-checkout\">\n              <b>Total:</b>${totalPrice}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderSidebar = () => {\n    return (\n      <div>\n        <Coupon />\n        {R.not(isBasketEmpty) && (\n          <div>\n            <button className=\"btn btn-danger\" onClick={() => cleanBasket()}>\n              <span className=\"glyphicon glyphicon-trash\" />\n              Clean Cart\n            </button>\n            <button\n              className=\"btn btn-success\"\n              onClick={() => basketCheckout(phones, totalPrice)}\n            >\n              <span className=\"glyphicon glyphicon-envelope\" />\n              Checkout\n            </button>\n          </div>\n        )}\n        <Link className=\"btn btn-default\" to=\"/\">\n          <span className=\"glyphicon glyphicon-circle-arrow-left\" />\n          <span> Continue Shopping</span>\n        </Link>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"view-container\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">{renderContent()}</div>\n          <div className=\"col-md-3 btn-user-checkout\">{renderSidebar()}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  phones: getBasketPhonesWithCount(state),\n  totalPrice: getTotalBasketPrice(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  removePhoneFromBasket: (id) => dispatch(removePhoneFromBasket(id)),\n  cleanBasket: () => dispatch(cleanBasket()),\n  basketCheckout: (phones, totalPrice) => { \n    dispatch(basketCheckout(phones)) \n    // Segment track() event for checkout clicked\n    let orderId = Math.random().toString(36).substring(7);\n    analytics.track(\"Checkout Clicked\", {\n      order_id: orderId,\n      total: totalPrice,\n      products: phones,\n      category: \"Checkout\",\n    });\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Basket);\n"]},"metadata":{},"sourceType":"module"}